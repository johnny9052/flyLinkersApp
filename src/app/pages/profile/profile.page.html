<app-header titulo="{{ 'perfil' | translate }}"></app-header>

<ion-content padding="padding">
  <form #formulario="ngForm" (ngSubmit)="saveProfileData()">
    <ion-list>
      <ion-item>
        <ion-grid fixed="fixed">
          <ion-row class="ion-text-center">
            <ion-col size="12">
              <div class="bordeado">
                <!--SI NO TIENE IMAGEN DE PERFIL-->
                <ion-avatar
                  *ngIf="!this.helperService.isValidValue(userData.image_perfil)"
                  class="image-center top-margin-20"
                >
                  <img src="https://flylinkers.com/media/avatar_2x.png" />
                </ion-avatar>

                <!--SI TIENE IMAGEN DE PERFIL-->
                <ion-avatar
                  *ngIf="this.helperService.isValidValue(userData.image_perfil)"
                  class="image-center top-margin-20"
                >
                  <!-- <img [src]="('https://flylinkers.com/media/' + userData.image_perfil) | imageSanitizer"> -->
                  <img [src]="userData.image_perfil | imageSanitizer" />
                </ion-avatar>

                <br />
              </div>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>

      <ion-item>
        <ion-row class="ion-text-center">
          <ion-col size="12">
            <h3>{{userData.fistName}} {{userData.lastName}}</h3>

            <h2>{{userData.profession}}</h2>

            <p color="flylinkers">{{userData.headline}}</p>

            <p>
              <ion-icon ios="ios-pin" md="md-pin"></ion-icon>
              {{userData.residence_country}}
            </p>
          </ion-col>
        </ion-row>
      </ion-item>
    </ion-list>

    <ion-grid fixed="fixed">
      <ion-row class="ion-text-center">
        <ion-col size="12">
          <ion-button
            color="flylinkers"
            type="submit"
            [disabled]="formulario.invalid"
            fill="outline"
            >{{ 'guardarPerfil' | translate }}</ion-button
          >
        </ion-col>
      </ion-row>

      <ion-row class="ion-text-center">
        <ion-col size="12">
          <ion-button
            color="flylinkers"
            [disabled]="formulario.invalid"
            (click)="changePassword()"
            fill="outline"
            >{{ 'cambiarPassword' | translate }}</ion-button
          >
        </ion-col>
      </ion-row>

      <ion-row class="ion-text-center">
        <ion-col size="12">
          <ion-button
            color="flylinkers"
            [disabled]="formulario.invalid"
            (click)="deactivateAccount()"
            fill="outline"
            >{{ 'desactivarCuentaAccion' | translate }}</ion-button
          >
        </ion-col>
      </ion-row>

      <!-- <ion-row>
                <ion-col size="12">
                    <ion-button
                        expand="full"
                        color="flylinkersRojo"
                    >Desactivar cuenta</ion-button>
                </ion-col>
            </ion-row> -->
    </ion-grid>

    <!-- ********************************************************************** -->
    <!-- *************************SECCION DE HABILIDADES*********************** -->
    <!-- ********************************************************************** -->

    <ion-card
      style="width: 100%; margin: 0px !important; border-radius: 2px;"
      color="flylinkers"
    >
      <ion-item color="FlyLinkers-Blanco" (click)="showHideSkills()">
        <ion-label>
          {{ 'habilidades' | translate }} ({{userSkills.length}})
        </ion-label>

        <ion-icon ios="ios-eye" md="md-eye"></ion-icon>
      </ion-item>

      <ion-card-content
        [hidden]="hiddenSkills"
        style="width: 100%; margin: 0px !important; border-radius: 0px; padding: 0px;"
      >
        <ion-item *ngFor="let skills of userSkills;">
          <ion-label>
            <h3>{{skills.skill_description}}</h3>
          </ion-label>

          <ion-icon
            name="trash"
            slot="end"
            (click)="deleteSkill(skills.id)"
          ></ion-icon>

          <ion-icon
            name="create"
            slot="end"
            (click)="editSkill(skills.id, skills.skill_description)"
          ></ion-icon>
        </ion-item>

        <ion-item text-center="text-center" class="ion-text-center">
          <ion-label>
            <ion-button
              color="flylinkers"
              fill="outline"
              (click)="createSkill()"
              >{{ 'crearSkill' | translate }}</ion-button
            >
          </ion-label>
        </ion-item>
      </ion-card-content>
    </ion-card>

    <!-- ********************************************************************** -->
    <!-- **********************END SECCION DE HABILIDADES********************** -->
    <!-- ********************************************************************** -->
    <br />
    <!-- ******************************************************************** -->
    <!-- *************************SECCION DE EXPERIENCIAS********************** -->
    <!-- ********************************************************************** -->

    <ion-card
      style="width: 100%; margin: 0px !important; border-radius: 2px;"
      color="flylinkers"
    >
      <ion-item color="FlyLinkers-Blanco" (click)="showHideExperiences()">
        <ion-label>
          {{ 'experiencias' | translate }} ({{userExperiences.length}})
        </ion-label>

        <ion-icon ios="ios-eye" md="md-eye"></ion-icon>
      </ion-item>

      <ion-card-content
        [hidden]="hiddenExperiences"
        style="width: 100%; margin: 0px !important; border-radius: 0px; padding: 0px;"
      >
        <ion-item *ngFor="let experiences of userExperiences;">
          <ion-label>
            <h3>{{experiences.title}}</h3>
          </ion-label>

          <ion-icon
            name="trash"
            slot="end"
            (click)="deleteExperience(experiences.id)"
          ></ion-icon>

          <ion-icon
            name="create"
            slot="end"
            (click)="editarExperiencia(experiences.id, experiences.title, experiences.company, experiences.location,
                         experiences.init_date, experiences.end_date, experiences.currently_working, experiences.headline_experience,
                         experiences.description_experience)"
          ></ion-icon>
        </ion-item>

        <ion-item text-center="text-center" class="ion-text-center">
          <ion-label>
            <ion-button
              color="flylinkers"
              fill="outline"
              (click)="crearNuevaExperiencia()"
              >{{ 'crearExperiencia' | translate }}</ion-button
            >
          </ion-label>
        </ion-item>
      </ion-card-content>
    </ion-card>

    <!-- ********************************************************************** -->
    <!-- **********************END SECCION DE EXPERIENCIAS********************* -->
    <!-- ********************************************************************** -->
    <br />
    <!-- ********************************************************************** -->
    <!-- *************************SECCION DE LOGROS**************************** -->
    <!-- ********************************************************************** -->

    <ion-card
      style="width: 100%; margin: 0px !important; border-radius: 2px;"
      color="flylinkers"
    >
      <ion-item color="FlyLinkers-Blanco" (click)="showHideAccomplishments()">
        <ion-label>
          {{ 'logros' | translate }} ({{userAccomplishments.length}})
        </ion-label>

        <ion-icon ios="ios-eye" md="md-eye"></ion-icon>
      </ion-item>

      <ion-card-content
        [hidden]="hiddenAccomplishments"
        style="width: 100%; margin: 0px !important; border-radius: 0px; padding: 0px;"
      >
        <ion-item *ngFor="let accomplishments of userAccomplishments;">
          <ion-label>
            <h3>
              {{accomplishments.accomplishment_description}}
            </h3>
          </ion-label>

          <ion-icon
            name="trash"
            slot="end"
            (click)="deleteAccomplishment(accomplishments.id)"
          ></ion-icon>

          <ion-icon
            name="create"
            slot="end"
            (click)="editAccomplishment(accomplishments.id, accomplishments.accomplishment_description)"
          ></ion-icon>
        </ion-item>

        <ion-item text-center="text-center" class="ion-text-center">
          <ion-label>
            <ion-button
              color="flylinkers"
              fill="outline"
              (click)="createAccomplishment()"
              >{{ 'crearLogro' | translate }}</ion-button
            >
          </ion-label>
        </ion-item>
      </ion-card-content>
    </ion-card>

    <!-- ********************************************************************** -->
    <!-- **********************END SECCION DE LOGROS*************************** -->
    <!-- ********************************************************************** -->
    <br />
    <!-- ********************************************************************** -->
    <!-- *************************SECCION DE INTERESES************************* -->
    <!-- ********************************************************************** -->

    <ion-card
      style="width: 100%; margin: 0px !important; border-radius: 2px;"
      color="flylinkers"
    >
      <ion-item color="FlyLinkers-Blanco" (click)="showHideInterests()">
        <ion-label>
          {{ 'intereses' | translate }} ({{userInterests.length}})
        </ion-label>

        <ion-icon ios="ios-eye" md="md-eye"></ion-icon>
      </ion-item>

      <ion-card-content
        [hidden]="hiddenInterests"
        style="width: 100%; margin: 0px !important; border-radius: 0px; padding: 0px;"
      >
        <ion-item *ngFor="let interests of userInterests;">
          <ion-label>
            <h3>
              {{interests.interest_description}}
            </h3>
          </ion-label>

          <ion-icon
            name="trash"
            slot="end"
            (click)="deleteInterests(interests.id)"
          ></ion-icon>

          <ion-icon
            name="create"
            slot="end"
            (click)="editInterests(interests.id, interests.interest_description)"
          ></ion-icon>
        </ion-item>

        <ion-item text-center="text-center" class="ion-text-center">
          <ion-label>
            <ion-button
              color="flylinkers"
              fill="outline"
              (click)="createInterests()"
              >{{ 'crearInteres' | translate }}</ion-button
            >
          </ion-label>
        </ion-item>
      </ion-card-content>
    </ion-card>

    <!-- ********************************************************************** -->
    <!-- **********************END SECCION DE INTERESES************************ -->
    <!-- ********************************************************************** -->
    <br />
  </form>
</ion-content>

<app-tab></app-tab>
